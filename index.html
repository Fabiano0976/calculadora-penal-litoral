<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Calculadora Penal Litoral City</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #000 100%);
      color: #e5e7eb;
      min-height: 100vh;
      padding: 24px;
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(15,23,42,0.96);
      border-radius: 16px;
      border: 1px solid #1f2937;
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
      padding: 24px 28px 20px;
    }

    header {
      text-align: center;
      margin-bottom: 18px;
    }

    header h1 {
      font-size: 26px;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: #facc15;
      margin-bottom: 4px;
    }

    header p {
      font-size: 12px;
      color: #9ca3af;
    }

    .logo {
      display: block;
      margin: 8px auto 0;
      max-height: 80px;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 18px;
    }

    .card {
      background: rgba(15,23,42,0.98);
      border-radius: 12px;
      border: 1px solid #111827;
      padding: 14px 16px;
    }

    .card h2 {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 10px;
      color: #e5e7eb;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card h2::before {
      content: "";
      width: 3px;
      height: 16px;
      border-radius: 999px;
      background: linear-gradient(to bottom, #38bdf8, #3b82f6);
      display: inline-block;
    }

    label {
      font-size: 12px;
      color: #9ca3af;
      display: block;
      margin-bottom: 4px;
    }

    input[type="text"],
    input[type="number"],
    select {
      width: 100%;
      padding: 7px 10px;
      font-size: 13px;
      border-radius: 8px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      outline: none;
      margin-bottom: 8px;
    }

    input:focus,
    select:focus {
      border-color: #38bdf8;
    }

    .row {
      display: grid;
      grid-template-columns: repeat(2,minmax(0,1fr));
      gap: 10px;
      margin-bottom: 6px;
    }

    button {
      border: none;
      cursor: pointer;
      font-weight: 600;
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 13px;
      background: linear-gradient(to right, #38bdf8, #3b82f6);
      color: #0b1120;
      transition: transform 0.08s, box-shadow 0.1s, filter 0.1s;
    }

    button:hover {
      transform: translateY(-1px);
      filter: brightness(1.1);
      box-shadow: 0 8px 20px rgba(56,189,248,0.35);
    }

    button:active {
      transform: translateY(0);
      box-shadow: none;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 6px;
      font-size: 12px;
    }

    th, td {
      padding: 5px 6px;
      border-bottom: 1px solid #111827;
      text-align: left;
    }

    th {
      background: #020617;
      font-weight: 600;
      color: #9ca3af;
    }

    tbody tr:nth-child(even) {
      background: rgba(15,23,42,0.6);
    }

    .badge-row {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .badge {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #1f2937;
      font-size: 12px;
      background: #020617;
      display: inline-flex;
      gap: 4px;
      align-items: center;
    }

    .badge span {
      color: #facc15;
      font-weight: 600;
    }

    .checks {
      display: grid;
      grid-template-columns: 1fr;
      gap: 4px;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .checks label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      margin-bottom: 0;
    }

    .checks input[type="checkbox"] {
      width: 14px;
      height: 14px;
      accent-color: #38bdf8;
    }

    .result-box {
      background: radial-gradient(circle at top left,#0b1120,#020617);
      border-radius: 10px;
      border: 1px solid #111827;
      padding: 10px 12px;
      margin-top: 6px;
      font-size: 12px;
    }

    .result-main {
      font-size: 22px;
      font-weight: 700;
      color: #facc15;
      margin-bottom: 2px;
    }

    .result-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #9ca3af;
    }

    .status-sugerido-main {
      font-weight: 700;
      color: #38bdf8;
      margin-bottom: 2px;
    }

    .status-sugerido-extra {
      font-size: 12px;
      color: #d1d5db;
    }

    .status-buttons {
      display: grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 6px;
      margin-top: 8px;
      margin-bottom: 6px;
    }

    .status-btn {
      background: #020617;
      color: #e5e7eb;
      border-radius: 999px;
      border: 1px solid #1f2937;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .status-btn.active {
      background: linear-gradient(to right,#38bdf8,#3b82f6);
      color: #020617;
      border-color: transparent;
    }

    textarea {
      width: 100%;
      min-height: 150px;
      resize: vertical;
      border-radius: 10px;
      border: 1px solid #111827;
      background: #020617;
      color: #e5e7eb;
      padding: 10px;
      font-size: 12px;
      font-family: "JetBrains Mono","SF Mono",ui-monospace,Menlo,monospace;
      margin-top: 4px;
    }

    .footer {
      margin-top: 10px;
      font-size: 10px;
      text-align: center;
      color: #6b7280;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>CALCULADORA PENAL LITORAL CITY</h1>
      <p>Calcule serviços, multa e fiança com base no Código Penal da Litoral City e gere texto pronto para o Discord.</p>
      <!-- se quiser mostrar a logo, troque o src pelo link do seu PNG -->
      <!-- <img class="logo" src="litoral-logo.png" alt="Litoral City Roleplay" /> -->
    </header>

    <div class="layout">
      <!-- ESQUERDA: DETENTO + ARTIGOS -->
      <section class="card">
        <h2>Dados do detento</h2>
        <div class="row">
          <div>
            <label for="nomeDetento">Nome</label>
            <input type="text" id="nomeDetento" placeholder="Ex: Wood" />
          </div>
          <div>
            <label for="cpfDetento">CPF</label>
            <input type="text" id="cpfDetento" placeholder="Ex: 12345" />
          </div>
        </div>

        <h2 style="margin-top: 8px;">Artigos</h2>
        <div class="row">
          <div>
            <label for="inputCodigo">Código do artigo</label>
            <input type="text" id="inputCodigo" placeholder="Ex: 10, 10.1, 23..." />
          </div>
          <div>
            <label for="inputObs">Observação (opcional)</label>
            <input type="text" id="inputObs" placeholder="Ex: local, situação..." />
          </div>
        </div>

        <div style="margin-bottom:4px;">
          <label for="selectArtigo">Ou selecionar</label>
          <div style="display:flex; gap:8px;">
            <select id="selectArtigo">
              <option value="">Selecione um artigo...</option>
            </select>
            <button id="btnAdicionar" style="white-space:nowrap;">Adicionar artigo</button>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width:50px;">Cód.</th>
              <th>Descrição</th>
              <th style="width:70px;">Serv.</th>
              <th style="width:90px;">Multa</th>
              <th style="width:90px;">Fiança</th>
              <th style="width:54px;"></th>
            </tr>
          </thead>
          <tbody id="tabelaArtigosBody"></tbody>
        </table>

        <div class="badge-row">
          <div class="badge">Serviços: <span id="totalServicos">0</span></div>
          <div class="badge">Multa total: <span id="totalMulta">R$ 0</span></div>
          <div class="badge">Fiança total: <span id="totalFianca">R$ 0</span></div>
        </div>
      </section>

      <!-- DIREITA: REDUÇÕES + RESULTADO + RESUMO -->
      <aside class="card">
        <h2>Reduções / Benefícios</h2>
        <div class="checks">
          <label><input type="checkbox" id="chkReuPrimario" /> Réu primário (-30%)</label>
          <label><input type="checkbox" id="chkAdvogado" /> Detenção com advogado (-30%)</label>
          <label><input type="checkbox" id="chkCooperacao" /> Cooperação / rendição (-10%)</label>
          <label><input type="checkbox" id="chkDelacao" /> Delação premiada (-50%)</label>
        </div>
        <button id="btnCalcular">CALCULAR PENA FINAL</button>

        <div class="result-box" style="margin-top:10px;">
          <div class="result-label">Pena de serviços</div>
          <div class="result-main"><span id="penaFinal">0</span> meses</div>
          <div style="font-size:12px; color:#d1d5db;">
            Multa total: <b id="resultadoMulta">R$ 0</b> •
            Fiança total: <b id="resultadoFianca">R$ 0</b>
          </div>
        </div>

        <div class="result-box" style="margin-top:8px;">
          <div class="result-label">Status sugerido</div>
          <div class="status-sugerido-main" id="statusSugerido">—</div>
          <div class="status-sugerido-extra" id="statusDetalhe">
            Adicione artigos e calcule para ver o status.
          </div>
        </div>

        <h2 style="margin-top:10px;">Situação para Discord</h2>
        <p style="font-size:11px; color:#9ca3af; margin-bottom:4px;">
          Escolha o tipo de resultado que você vai aplicar ao detento.
        </p>
        <div class="status-buttons">
          <button type="button" class="status-btn active" data-status="prisao">PRISÃO</button>
          <button type="button" class="status-btn" data-status="pena_parcial">PENA PARCIAL</button>
          <button type="button" class="status-btn" data-status="liberdade">LIBERDADE</button>
          <button type="button" class="status-btn" data-status="multar">MULTAR</button>
        </div>

        <label style="margin-top:4px; font-size:11px;">Resumo para Discord</label>
        <textarea id="textoDiscord" placeholder="Calcule a pena para gerar o texto."></textarea>

        <div style="display:flex; justify-content:flex-end; margin-top:6px;">
          <button id="btnCopiar" style="padding-inline:18px;">COPIAR TEXTO</button>
        </div>
      </aside>
    </div>

    <div class="footer">
      Baseado no Código Penal da Litoral City. Ajuste valores se houver atualização oficial.
    </div>
  </div>

  <script>
    // ==========================
    // TABELA DE ARTIGOS - LITORAL
    // (Resumo; preencha mais se quiser)
    // ==========================
    const artigos = {
      "10":   { desc: "Homicídio doloso (matar alguém com intenção)", serv: 60, multa: 60000, fianca: 0 },
      "10.1": { desc: "Homicídio culposo (sem intenção)", serv: 40, multa: 40000, fianca: 0 },
      "10.2": { desc: "Homicídio a oficial", serv: 60, multa: 50000, fianca: 0 },
      "10.3": { desc: "Latrocínio (roubo seguido de morte)", serv: 50, multa: 40000, fianca: 0 },
      "11":   { desc: "Tentativa de homicídio", serv: 40, multa: 35000, fianca: 0 },
      "11.1": { desc: "Tentativa a oficial", serv: 50, multa: 40000, fianca: 0 },
      "11.2": { desc: "Múltiplos homicídios", serv: 60, multa: 60000, fianca: 0 },
      "12":   { desc: "Sequestro e cárcere privado", serv: 40, multa: 30000, fianca: 0 },
      "12.1": { desc: "Sequestro a oficial", serv: 60, multa: 35000, fianca: 0 },
      "12.2": { desc: "Extorsão mediante sequestro", serv: 50, multa: 40000, fianca: 0 },

      "14.1": { desc: "Difamação", serv: 15, multa: 6000, fianca: 14000 },
      "14.2": { desc: "Calúnia", serv: 15, multa: 6000, fianca: 14000 },
      "14.3": { desc: "Injúria", serv: 25, multa: 14000, fianca: 20000 },

      "15":   { desc: "Ameaça", serv: 20, multa: 8000, fianca: 16000 },
      "15.1": { desc: "Ameaça contra oficial", serv: 30, multa: 10000, fianca: 20000 },
      "15.2": { desc: "Ameaça com violência", serv: 30, multa: 10000, fianca: 20000 },

      "17":   { desc: "Crueldade animal", serv: 20, multa: 12000, fianca: 24000 },
      "18":   { desc: "Lesão corporal", serv: 20, multa: 6000, fianca: 14000 },
      "19":   { desc: "Omissão de socorro", serv: 15, multa: 7000, fianca: 18000 },
      "20":   { desc: "Danos morais / à imagem", serv: 15, multa: 5000, fianca: 10000 },
      "20.1": { desc: "Assédio moral", serv: 60, multa: 50000, fianca: 100000 },
      "21":   { desc: "Ato obsceno", serv: 20, multa: 6000, fianca: 14000 },
      "21.1": { desc: "Atentado ao pudor", serv: 60, multa: 120000, fianca: 0 },

      // ... (se quiser, continue adicionando TODOS os artigos do seu código aqui)
    };

    // ==============
    // ELEMENTOS
    // ==============
    const inputNome = document.getElementById("nomeDetento");
    const inputCpf = document.getElementById("cpfDetento");
    const inputCodigo = document.getElementById("inputCodigo");
    const inputObs = document.getElementById("inputObs");
    const selectArtigo = document.getElementById("selectArtigo");
    const tabelaBody = document.getElementById("tabelaArtigosBody");

    const totalServicosSpan = document.getElementById("totalServicos");
    const totalMultaSpan = document.getElementById("totalMulta");
    const totalFiancaSpan = document.getElementById("totalFianca");

    const chkReuPrimario = document.getElementById("chkReuPrimario");
    const chkAdvogado = document.getElementById("chkAdvogado");
    const chkCooperacao = document.getElementById("chkCooperacao");
    const chkDelacao = document.getElementById("chkDelacao");

    const penaFinalSpan = document.getElementById("penaFinal");
    const resultadoMultaSpan = document.getElementById("resultadoMulta");
    const resultadoFiancaSpan = document.getElementById("resultadoFianca");

    const statusSugeridoSpan = document.getElementById("statusSugerido");
    const statusDetalheSpan = document.getElementById("statusDetalhe");

    const textoDiscord = document.getElementById("textoDiscord");

    const btnAdicionar = document.getElementById("btnAdicionar");
    const btnCalcular = document.getElementById("btnCalcular");
    const btnCopiar = document.getElementById("btnCopiar");

    const statusButtons = document.querySelectorAll(".status-btn");

    let listaArtigos = [];
    let statusAtual = "prisao";

    // ==============
    // FUNÇÕES
    // ==============
    function formatarMoeda(valor) {
      return valor.toLocaleString("pt-BR", {
        style: "currency",
        currency: "BRL"
      });
    }

    function popularSelect() {
      Object.keys(artigos).sort((a,b) => {
        const na = parseFloat(a);
        const nb = parseFloat(b);
        return na - nb;
      }).forEach(cod => {
        const opt = document.createElement("option");
        opt.value = cod;
        opt.textContent = "Art. " + cod + " - " + artigos[cod].desc;
        selectArtigo.appendChild(opt);
      });
    }

    function atualizarTabela() {
      tabelaBody.innerHTML = "";
      listaArtigos.forEach((item, index) => {
        const tr = document.createElement("tr");

        const tdCod = document.createElement("td");
        tdCod.textContent = item.codigo;
        tr.appendChild(tdCod);

        const tdDesc = document.createElement("td");
        tdDesc.textContent = item.descricao;
        tr.appendChild(tdDesc);

        const tdServ = document.createElement("td");
        tdServ.textContent = item.servicos;
        tr.appendChild(tdServ);

        const tdMulta = document.createElement("td");
        tdMulta.textContent = formatarMoeda(item.multa);
        tr.appendChild(tdMulta);

        const tdFianca = document.createElement("td");
        tdFianca.textContent = formatarMoeda(item.fianca);
        tr.appendChild(tdFianca);

        const tdAcoes = document.createElement("td");
        const btn = document.createElement("button");
        btn.textContent = "X";
        btn.style.padding = "3px 8px";
        btn.style.fontSize = "11px";
        btn.onclick = () => {
          listaArtigos.splice(index, 1);
          atualizarTotais();
          atualizarTabela();
          atualizarResumo();
        };
        tdAcoes.appendChild(btn);
        tr.appendChild(tdAcoes);

        tabelaBody.appendChild(tr);
      });
    }

    function atualizarTotais() {
      const totalServicos = listaArtigos.reduce((s,a) => s + a.servicos, 0);
      const totalMulta = listaArtigos.reduce((s,a) => s + a.multa, 0);
      const totalFianca = listaArtigos.reduce((s,a) => s + a.fianca, 0);

      totalServicosSpan.textContent = totalServicos;
      totalMultaSpan.textContent = formatarMoeda(totalMulta);
      totalFiancaSpan.textContent = formatarMoeda(totalFianca);
    }

    function adicionarArtigo(codigo) {
      const cod = codigo.trim();
      if (!cod) return;

      if (!artigos[cod]) {
        alert("Artigo não encontrado. Adicione no script se quiser usá-lo.");
        return;
      }

      const base = artigos[cod];
      let descFinal = base.desc;
      const extra = inputObs.value.trim();
      if (extra) descFinal += " (" + extra + ")";

      listaArtigos.push({
        codigo: cod,
        descricao: descFinal,
        servicos: base.serv,
        multa: base.multa,
        fianca: base.fianca
      });

      inputCodigo.value = "";
      inputObs.value = "";
      selectArtigo.value = "";

      atualizarTabela();
      atualizarTotais();
      atualizarResumo();
    }

    function calcularPenaFinal() {
      let pena = listaArtigos.reduce((s,a) => s + a.servicos, 0);

      if (pena === 0 && listaArtigos.length === 0) {
        alert("Adicione pelo menos um artigo.");
        return;
      }

      if (chkReuPrimario.checked) pena *= 0.7;   // -30%
      if (chkAdvogado.checked)    pena *= 0.7;   // -30%
      if (chkCooperacao.checked)  pena *= 0.9;   // -10%
      if (chkDelacao.checked)     pena *= 0.5;   // -50%

      pena = Math.round(pena);
      if (pena < 0) pena = 0;

      const totalMulta = listaArtigos.reduce((s,a) => s + a.multa, 0);
      const totalFianca = listaArtigos.reduce((s,a) => s + a.fianca, 0);

      penaFinalSpan.textContent = pena;
      resultadoMultaSpan.textContent = formatarMoeda(totalMulta);
      resultadoFiancaSpan.textContent = formatarMoeda(totalFianca);

      // STATUS SUGERIDO
      let status = "";
      let detalhe = "";

      if (pena === 0 && totalMulta > 0 && totalFianca === 0) {
        status = "MULTA";
        detalhe = "Apenas multa aplicável. Considere liberação após pagamento.";
      } else if (pena === 0 && totalFianca > 0) {
        status = "LIBERDADE MEDIANTE FIANÇA";
        detalhe = "Sem serviços, apenas multa e/ou fiança.";
      } else if (pena > 0 && totalFianca > 0 && pena <= 25) {
        status = "PENA PARCIAL";
        detalhe = "Possível acordo com pagamento de fiança/multa e parte da pena.";
      } else if (pena > 0) {
        status = "PRISÃO";
        detalhe = "Cumprimento integral ou majoritário da pena de serviços.";
      } else {
        status = "—";
        detalhe = "Ajuste os artigos ou reduções para definir um status.";
      }

      statusSugeridoSpan.textContent = status;
      statusDetalheSpan.textContent = detalhe;

      atualizarResumo();
    }

    function atualizarResumo() {
      const nome = inputNome.value.trim() || "Não informado";
      const cpf = inputCpf.value.trim() || "Não informado";
      const artigosLista = listaArtigos.map(a => a.codigo).join(", ") || "Nenhum";
      const pena = parseInt(penaFinalSpan.textContent, 10) || 0;
      const totalMulta = listaArtigos.reduce((s,a) => s + a.multa, 0);
      const totalFianca = listaArtigos.reduce((s,a) => s + a.fianca, 0);

      let titulo = "";
      let descricao = "";

      if (statusAtual === "prisao") {
        titulo = "PRISÃO";
        descricao = "Indivíduo segue preso para cumprimento integral da pena.";
      } else if (statusAtual === "pena_parcial") {
        titulo = "PENA PARCIAL";
        descricao = "Indivíduo será encaminhado ao Centro de Detenção com redução parcial da pena.";
      } else if (statusAtual === "liberdade") {
        titulo = "LIBERDADE";
        descricao = "Indivíduo segue em liberdade mediante pagamento das penas afiançáveis.";
      } else if (statusAtual === "multar") {
        titulo = "MULTAR";
        descricao = "Indivíduo será autuado de acordo com suas infrações, com foco em multa e fiança.";
      }

      const texto =
        titulo + "\n" +
        descricao + "\n" +
        "-----------------------------\n" +
        "Nome: " + nome + "\n" +
        "CPF: " + cpf + "\n" +
        "Artigos: " + artigosLista + "\n" +
        "Pena: " + pena + " meses\n" +
        "Multa: " + formatarMoeda(totalMulta) + "\n" +
        "Fiança: " + formatarMoeda(totalFianca) + "\n" +
        "-----------------------------";

      textoDiscord.value = texto;
    }

    // ==============
    // EVENTOS
    // ==============
    btnAdicionar.addEventListener("click", () => {
      const codigo = inputCodigo.value || selectArtigo.value;
      if (!codigo) {
        alert("Digite um código ou selecione um artigo.");
        return;
      }
      adicionarArtigo(codigo);
    });

    inputCodigo.addEventListener("keyup", (e) => {
      if (e.key === "Enter") {
        btnAdicionar.click();
      }
    });

    btnCalcular.addEventListener("click", calcularPenaFinal);

    statusButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        statusButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        statusAtual = btn.dataset.status;
        atualizarResumo();
      });
    });

    btnCopiar.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(textoDiscord.value);
        btnCopiar.textContent = "COPIADO!";
        setTimeout(() => (btnCopiar.textContent = "COPIAR TEXTO"), 1200);
      } catch {
        alert("Não foi possível copiar. Copie manualmente o texto.");
      }
    });

    // inicial
    popularSelect();
    atualizarResumo();
  </script>
</body>
</html>
